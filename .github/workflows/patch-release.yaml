name: Create Patch Release PR

permissions:
  contents: write
  pull-requests: write

on:
  workflow_dispatch:
    inputs:
      target_branch:
        description: 'Target branch for hotfix'
        required: true
        type: string

jobs:
  hotfix:
    uses: ./.github/workflows/create-release-pr.yaml
    with:
      bump_type: "patch"
      target_branch: ${{ inputs.target_branch }}
    secrets:
      ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
      OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
      GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
      OPENROUTER_API_KEY: ${{ secrets.OPENROUTER_API_KEY }}
      XAI_API_KEY: ${{ secrets.XAI_API_KEY }}
      TETRATE_API_KEY: ${{ secrets.TETRATE_API_KEY }}
